{"ast":null,"code":"import axios from \"axios\";\nimport jsonInfo from \"../json/jsonInfo.json\";\nconst URL = \"https://fastapi-heroku-2021.herokuapp.com/api/v1\";\nexport const getProductById = async productId => {\n  // REFERENCE PRODUCTS COLLECTION\n  let data = await axios.get(`${URL}/products/id/${productId}`);\n  return data.data;\n};\nexport const getProducts = async url => {\n  const collection = jsonInfo.find(element => element.url === url);\n  const collectionName = collection.name || \"allProducts\";\n  console.log(`getProducts API with url = ${collectionName}`);\n  let data; // QUERY PRODUCTS\n\n  if (collectionName === \"allProducts\") data = await axios.get(`${URL}/products/all`);else data = await axios.get(`${URL}/products/${collectionName}`);\n  console.log(\"data from API = \");\n  console.log(data);\n  return data.data;\n};\nexport const signInWithEmailPassword = async (email, password) => {\n  try {\n    let res = await axios.post(`${URL}/users/signin`, {\n      email,\n      password\n    });\n    return {\n      status: res.status,\n      user: res.data\n    };\n  } catch (err) {\n    return {\n      status: err.response.status,\n      detail: err.response.data.detail\n    };\n  }\n};\nexport const registerWithEmailPassword = async (email, password, username) => {\n  try {\n    let res = await axios.post(`${URL}/users/register`, {\n      email,\n      password,\n      username\n    });\n    return {\n      status: res.status,\n      user: res.data\n    };\n  } catch (err) {\n    return {\n      status: err.response.status,\n      detail: err.response.data.detail\n    };\n  }\n};\nexport const updateProfile = async (username, password, address, tel, access_token, user_id) => {\n  try {\n    let res = await axios.put(`${URL}/users/update`, {\n      user_id,\n      username,\n      password,\n      address,\n      tel\n    }, {\n      headers: {\n        Authorization: `Bearer ${access_token}`\n      }\n    });\n    return {\n      status: res.status,\n      user: res.data\n    };\n  } catch (err) {\n    return {\n      status: err.response.status,\n      detail: err.response.data.detail\n    };\n  }\n};\nexport const createOrderApi = async (order, access_token) => {\n  try {\n    const res = await axios.post(`${URL}/orders/create`, order, {\n      headers: {\n        Authorization: `Bearer ${access_token}`\n      }\n    });\n    return {\n      status: res.status,\n      order: res.data\n    };\n  } catch (err) {\n    return {\n      status: err.response.status,\n      detail: err.response.data.detail\n    };\n  }\n};\nexport const getOrderById = async orderId => {\n  try {\n    let res = await axios.get(`${URL}/orders/id/${orderId}`);\n    return {\n      status: res.status,\n      order: res.data\n    };\n  } catch (err) {\n    return {\n      status: err.response.status,\n      detail: err.response.data.detail\n    };\n  }\n};","map":{"version":3,"sources":["/Users/chi-shanyu/Desktop/36-PWAShoppingCart/src/api/index.js"],"names":["axios","jsonInfo","URL","getProductById","productId","data","get","getProducts","url","collection","find","element","collectionName","name","console","log","signInWithEmailPassword","email","password","res","post","status","user","err","response","detail","registerWithEmailPassword","username","updateProfile","address","tel","access_token","user_id","put","headers","Authorization","createOrderApi","order","getOrderById","orderId"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport jsonInfo from \"../json/jsonInfo.json\";\n\nconst URL = \"https://fastapi-heroku-2021.herokuapp.com/api/v1\";\n\nexport const getProductById = async (productId) => {\n  // REFERENCE PRODUCTS COLLECTION\n  let data = await axios.get(`${URL}/products/id/${productId}`);\n  return data.data;\n};\n\nexport const getProducts = async (url) => {\n  const collection = jsonInfo.find((element) => element.url === url);\n  const collectionName = collection.name || \"allProducts\";\n  console.log(`getProducts API with url = ${collectionName}`);\n  let data;\n  // QUERY PRODUCTS\n  if (collectionName === \"allProducts\")\n    data = await axios.get(`${URL}/products/all`);\n  else data = await axios.get(`${URL}/products/${collectionName}`);\n  console.log(\"data from API = \");\n  console.log(data);\n  return data.data;\n};\n\nexport const signInWithEmailPassword = async (email, password) => {\n  try {\n    let res = await axios.post(`${URL}/users/signin`, { email, password });\n    return { status: res.status, user: res.data };\n  } catch (err) {\n    return { status: err.response.status, detail: err.response.data.detail };\n  }\n};\n\nexport const registerWithEmailPassword = async (email, password, username) => {\n  try {\n    let res = await axios.post(`${URL}/users/register`, {\n      email,\n      password,\n      username,\n    });\n    return { status: res.status, user: res.data };\n  } catch (err) {\n    return { status: err.response.status, detail: err.response.data.detail };\n  }\n};\n\nexport const updateProfile = async (username, password, address, tel, access_token, user_id) => {\n  try {\n    let res = await axios.put(\n      `${URL}/users/update`,\n      {\n        user_id,\n        username,\n        password,\n        address,\n        tel,\n      },\n      {\n        headers: { Authorization: `Bearer ${access_token}` },\n      }\n    );\n    return { status: res.status, user: res.data };\n  } catch (err) {\n    return { status: err.response.status, detail: err.response.data.detail };\n  }  \n}\n\nexport const createOrderApi = async (order, access_token) => {\n\n  try {\n    const res = await axios.post(\n      `${URL}/orders/create`,order ,\n      {\n        headers: { Authorization: `Bearer ${access_token}` },\n      }\n    );\n    return { status: res.status, order: res.data };\n  } catch (err) {\n    return { status: err.response.status, detail: err.response.data.detail };\n  }\n\n};\n\n\nexport const getOrderById = async (orderId) => {\n  try {\n    let res = await axios.get(`${URL}/orders/id/${orderId}`);\n    return { status: res.status, order: res.data };    \n  } catch (err) {\n    return { status: err.response.status, detail: err.response.data.detail };\n  }\n\n};\n"]},"metadata":{},"sourceType":"module"}