{"ast":null,"code":"import _objectSpread from\"/Users/chi-shanyu/Desktop/36-PWAShoppingCart/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/chi-shanyu/Desktop/36-PWAShoppingCart/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{useHistory}from\"react-router-dom\";import{Form,Input,Button}from\"antd\";import{logout,updateUserInfo}from\"../actions/userActions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProfileCard=function ProfileCard(){var _useSelector=useSelector(function(state){return state.userSignin;}),userInfo=_useSelector.userInfo;var username=userInfo.username,access_token=userInfo.access_token,user_id=userInfo.user_id;var address=userInfo.address||'';var tel=userInfo.tel||'';var dispatch=useDispatch();var history=useHistory();var _Form$useForm=Form.useForm(),_Form$useForm2=_slicedToArray(_Form$useForm,1),form=_Form$useForm2[0];var handleUpdate=function handleUpdate(values){dispatch(updateUserInfo(_objectSpread(_objectSpread({},values),{},{access_token:access_token,user_id:user_id})));};var handleLogout=function handleLogout(){dispatch(logout());history.push(\"/\");};return/*#__PURE__*/_jsxs(Form,{onFinish:handleUpdate,name:\"normal_login\",className:\"login-form\",form:form,initialValues:userInfo,children:[/*#__PURE__*/_jsx(Form.Item,{label:\"Name: \",name:\"username\",rules:[{type:\"string\",message:\"The input is not valid name!\"},{message:\"Please input your name!\"}],hasFeedback:true,children:/*#__PURE__*/_jsx(Input,{placeholder:username})}),/*#__PURE__*/_jsx(Form.Item,{name:\"password\",label:\"Password\",rules:[{message:\"Please input your password!\"}],hasFeedback:true,children:/*#__PURE__*/_jsx(Input.Password,{})}),/*#__PURE__*/_jsx(Form.Item,{name:\"rePassword\",label:\"Re-enter Password\",dependencies:[\"password\"],hasFeedback:true,rules:[{message:\"Please re-enter your password!\"},function(_ref){var getFieldValue=_ref.getFieldValue;return{validator:function validator(_,value){if(!value||getFieldValue(\"password\")===value){return Promise.resolve();}return Promise.reject(new Error(\"The two passwords that you entered do not match!\"));}};}],children:/*#__PURE__*/_jsx(Input.Password,{})}),/*#__PURE__*/_jsx(Form.Item,{label:\"Address: \",name:\"address\",rules:[{type:\"string\",message:\"The input is not valid address!\"},{message:\"Please input your address!\"}],hasFeedback:true,children:/*#__PURE__*/_jsx(Input,{placeholder:address})}),/*#__PURE__*/_jsx(Form.Item,{label:\"Tel: \",name:\"tel\",rules:[{type:\"string\",message:\"The input is not valid tel!\"},{message:\"Please input your phone number!\"}],hasFeedback:true,children:/*#__PURE__*/_jsx(Input,{placeholder:tel})}),/*#__PURE__*/_jsxs(Form.Item,{children:[/*#__PURE__*/_jsx(Button,{type:\"primary\",htmlType:\"submit\",className:\"login-form__button\",children:\"Submit\"}),/*#__PURE__*/_jsx(Button,{type:\"danger\",style:{marginTop:\"0.8rem\"},className:\"login-form__button\",onClick:handleLogout,children:\"Log out\"})]})]});};export default ProfileCard;","map":{"version":3,"sources":["/Users/chi-shanyu/Desktop/36-PWAShoppingCart/src/components/ProfileCard.js"],"names":["React","useDispatch","useSelector","useHistory","Form","Input","Button","logout","updateUserInfo","ProfileCard","state","userSignin","userInfo","username","access_token","user_id","address","tel","dispatch","history","useForm","form","handleUpdate","values","handleLogout","push","type","message","getFieldValue","validator","_","value","Promise","resolve","reject","Error","marginTop"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport { Form, Input, Button } from \"antd\";\nimport { logout, updateUserInfo } from \"../actions/userActions\";\n\nconst ProfileCard = () => {\n\n  const { userInfo } = useSelector((state) => state.userSignin);\n  const { username, access_token, user_id } = userInfo;\n  const address = userInfo.address || '';\n  const tel = userInfo.tel || '';\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [form] = Form.useForm();\n\n  const handleUpdate = (values) => {\n    dispatch(updateUserInfo({ ...values, access_token, user_id }));\n  };\n\n  const handleLogout = () => {\n    dispatch(logout());\n    history.push(\"/\");\n  };\n  return (\n    <Form\n      onFinish={handleUpdate}\n      name=\"normal_login\"\n      className=\"login-form\"\n      form={form}\n      initialValues={userInfo}\n    >\n      <Form.Item\n        label=\"Name: \"\n        name=\"username\"\n        rules={[\n          {\n            type: \"string\",\n            message: \"The input is not valid name!\",\n          },\n          {\n            message: \"Please input your name!\",\n          },\n        ]}\n        hasFeedback\n      >\n        <Input placeholder={username} />\n      </Form.Item> \n      <Form.Item\n        name=\"password\"\n        label=\"Password\"\n        rules={[\n          {\n            message: \"Please input your password!\",\n          },\n        ]}\n        hasFeedback\n      >\n        <Input.Password />\n      </Form.Item>\n      <Form.Item\n        name=\"rePassword\"\n        label=\"Re-enter Password\"\n        dependencies={[\"password\"]}\n        hasFeedback\n        rules={[\n          {\n            message: \"Please re-enter your password!\",\n          },\n          ({ getFieldValue }) => ({\n            validator(_, value) {\n              if (!value || getFieldValue(\"password\") === value) {\n                return Promise.resolve();\n              }\n\n              return Promise.reject(\n                new Error(\"The two passwords that you entered do not match!\")\n              );\n            },\n          }),\n        ]}\n      >\n        <Input.Password />\n      </Form.Item>\n      <Form.Item\n        label=\"Address: \"\n        name=\"address\"\n        rules={[\n          {\n            type: \"string\",\n            message: \"The input is not valid address!\",\n          },\n          {\n            message: \"Please input your address!\",\n          },\n        ]}\n        hasFeedback\n      >\n        <Input placeholder={address} />\n      </Form.Item>\n      <Form.Item\n        label=\"Tel: \"\n        name=\"tel\"\n        rules={[\n          {\n            type: \"string\",\n            message: \"The input is not valid tel!\",\n          },\n          {\n            message: \"Please input your phone number!\",\n          },\n        ]}\n        hasFeedback\n      >\n        <Input placeholder={tel} />\n      </Form.Item>\n      <Form.Item>\n        <Button type=\"primary\" htmlType=\"submit\" className=\"login-form__button\">\n          Submit\n        </Button>\n\n        <Button\n          type=\"danger\"\n          style={{ marginTop: \"0.8rem\" }}\n          className=\"login-form__button\"\n          onClick={handleLogout}\n        >\n          Log out\n        </Button>\n      </Form.Item>\n    </Form>\n  );\n};\n\n\nexport default ProfileCard;\n"]},"metadata":{},"sourceType":"module"}