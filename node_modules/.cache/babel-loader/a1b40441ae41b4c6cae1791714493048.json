{"ast":null,"code":"import _toConsumableArray from\"/Users/chi-shanyu/Desktop/36-PWAShoppingCart/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/chi-shanyu/Desktop/36-PWAShoppingCart/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{ADD_CART_ITEM,REMOVE_CART_ITEM,SAVE_SHIPPING_ADDRESS,SAVE_PAYMENT_METHOD}from\"../utils/constants\";export var cartReducer=function cartReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{cartItems:[],shippingAddress:{},paymentMethod:\"Google\"};var action=arguments.length>1?arguments[1]:undefined;var cartItems=[];switch(action.type){case ADD_CART_ITEM:var item=action.payload;var product=state.cartItems.find(function(x){return x.id===item.id;});if(product){cartItems=state.cartItems.map(function(x){return x.id===product.id?item:x;});return _objectSpread(_objectSpread({},state),{},{cartItems:cartItems});}cartItems=[].concat(_toConsumableArray(state.cartItems),[item]);return _objectSpread(_objectSpread({},state),{},{cartItems:cartItems});case REMOVE_CART_ITEM:cartItems=state.cartItems.filter(function(x){return x.id!==action.payload;});return _objectSpread(_objectSpread({},state),{},{cartItems:cartItems});case SAVE_SHIPPING_ADDRESS:return _objectSpread(_objectSpread({},state),{},{shippingAddress:action.payload});case SAVE_PAYMENT_METHOD:return _objectSpread(_objectSpread({},state),{},{paymentMethod:action.payload});default:return state;}};","map":{"version":3,"sources":["/Users/chi-shanyu/Desktop/36-PWAShoppingCart/src/store/cartReducers.js"],"names":["ADD_CART_ITEM","REMOVE_CART_ITEM","SAVE_SHIPPING_ADDRESS","SAVE_PAYMENT_METHOD","cartReducer","state","cartItems","shippingAddress","paymentMethod","action","type","item","payload","product","find","x","id","map","filter"],"mappings":"6UAAA,OACEA,aADF,CAEEC,gBAFF,CAGEC,qBAHF,CAIEC,mBAJF,KAKO,oBALP,CAOA,MAAO,IAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAIX,IAJYC,CAAAA,KAIZ,2DAJoB,CAChCC,SAAS,CAAE,EADqB,CAEhCC,eAAe,CAAE,EAFe,CAGhCC,aAAa,CAAE,QAHiB,CAIpB,IAAXC,CAAAA,MAAW,2CACd,GAAIH,CAAAA,SAAS,CAAG,EAAhB,CACA,OAAQG,MAAM,CAACC,IAAf,EACE,IAAKV,CAAAA,aAAL,CACE,GAAMW,CAAAA,IAAI,CAAGF,MAAM,CAACG,OAApB,CACA,GAAMC,CAAAA,OAAO,CAAGR,KAAK,CAACC,SAAN,CAAgBQ,IAAhB,CAAqB,SAACC,CAAD,QAAOA,CAAAA,CAAC,CAACC,EAAF,GAASL,IAAI,CAACK,EAArB,EAArB,CAAhB,CACA,GAAIH,OAAJ,CAAa,CACXP,SAAS,CAAGD,KAAK,CAACC,SAAN,CAAgBW,GAAhB,CAAoB,SAACF,CAAD,QAC9BA,CAAAA,CAAC,CAACC,EAAF,GAASH,OAAO,CAACG,EAAjB,CAAsBL,IAAtB,CAA6BI,CADC,EAApB,CAAZ,CAGA,sCAAYV,KAAZ,MAAmBC,SAAS,CAATA,SAAnB,GACD,CACDA,SAAS,8BAAOD,KAAK,CAACC,SAAb,GAAwBK,IAAxB,EAAT,CACA,sCAAYN,KAAZ,MAAmBC,SAAS,CAATA,SAAnB,GACF,IAAKL,CAAAA,gBAAL,CACEK,SAAS,CAAGD,KAAK,CAACC,SAAN,CAAgBY,MAAhB,CAAuB,SAACH,CAAD,QAAOA,CAAAA,CAAC,CAACC,EAAF,GAASP,MAAM,CAACG,OAAvB,EAAvB,CAAZ,CACA,sCAAYP,KAAZ,MAAmBC,SAAS,CAATA,SAAnB,GACF,IAAKJ,CAAAA,qBAAL,CACE,sCAAYG,KAAZ,MAAmBE,eAAe,CAAEE,MAAM,CAACG,OAA3C,GACF,IAAKT,CAAAA,mBAAL,CACE,sCAAYE,KAAZ,MAAmBG,aAAa,CAAEC,MAAM,CAACG,OAAzC,GACF,QACE,MAAOP,CAAAA,KAAP,CApBJ,CAsBD,CA5BM","sourcesContent":["import {\n  ADD_CART_ITEM,\n  REMOVE_CART_ITEM,\n  SAVE_SHIPPING_ADDRESS,\n  SAVE_PAYMENT_METHOD\n} from \"../utils/constants\";\n\nexport const cartReducer = (state = {\n    cartItems: [],\n    shippingAddress: {},\n    paymentMethod: \"Google\",\n  }, action) => {\n  let cartItems = [];\n  switch (action.type) {\n    case ADD_CART_ITEM:\n      const item = action.payload;\n      const product = state.cartItems.find((x) => x.id === item.id);\n      if (product) {\n        cartItems = state.cartItems.map((x) =>\n          x.id === product.id ? item : x\n        );\n        return { ...state, cartItems };\n      }\n      cartItems = [...state.cartItems, item];\n      return { ...state, cartItems};\n    case REMOVE_CART_ITEM:\n      cartItems = state.cartItems.filter((x) => x.id !== action.payload);\n      return { ...state, cartItems };\n    case SAVE_SHIPPING_ADDRESS:\n      return { ...state, shippingAddress: action.payload };\n    case SAVE_PAYMENT_METHOD:\n      return { ...state, paymentMethod: action.payload };\n    default:\n      return state;\n  }\n}"]},"metadata":{},"sourceType":"module"}