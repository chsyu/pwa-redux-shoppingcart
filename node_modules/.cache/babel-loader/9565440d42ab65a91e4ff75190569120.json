{"ast":null,"code":"import _objectSpread from\"/Users/chi-shanyu/Desktop/36-PWAShoppingCart/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/chi-shanyu/Desktop/36-PWAShoppingCart/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/chi-shanyu/Desktop/36-PWAShoppingCart/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/chi-shanyu/Desktop/36-PWAShoppingCart/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Link,useHistory}from\"react-router-dom\";import React from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{Form,Input,Checkbox,Button}from\"antd\";import{WarningOutlined}from\"@ant-design/icons\";import{register}from\"../actions/userActions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var formItemLayout={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}};var tailFormItemLayout={wrapperCol:{xs:{span:24,offset:0},sm:{span:24,offset:0}}};var RegisterCard=function RegisterCard(){var _useSelector=useSelector(function(state){return state.userRegister;}),loading=_useSelector.loading,error=_useSelector.error;var dispatch=useDispatch();var _Form$useForm=Form.useForm(),_Form$useForm2=_slicedToArray(_Form$useForm,1),form=_Form$useForm2[0];var history=useHistory();var onFinish=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values){var user;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(\"Received values of form: \",values);_context.next=3;return dispatch(register(values));case 3:user=_context.sent;user&&history.push(\"/profile\");case 5:case\"end\":return _context.stop();}}},_callee);}));return function onFinish(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Form,_objectSpread(_objectSpread({},formItemLayout),{},{form:form,name:\"register\",onFinish:onFinish,className:\"register-form\",scrollToFirstError:true,children:[/*#__PURE__*/_jsx(Form.Item,{name:\"username\",label:\"Your Name\",tooltip:\"What do you want others to call you?\",rules:[{required:true,message:\"Please input your name!\",whitespace:true}],children:/*#__PURE__*/_jsx(Input,{})}),/*#__PURE__*/_jsx(Form.Item,{name:\"email\",label:\"E-mail\",rules:[{type:\"email\",message:\"The input is not valid E-mail!\"},{required:true,message:\"Please input your E-mail!\"}],children:/*#__PURE__*/_jsx(Input,{})}),/*#__PURE__*/_jsx(Form.Item,{name:\"password\",label:\"Password\",rules:[{required:true,message:\"Please input your password!\"}],hasFeedback:true,children:/*#__PURE__*/_jsx(Input.Password,{})}),/*#__PURE__*/_jsx(Form.Item,{name:\"rePassword\",label:\"Re-enter Password\",dependencies:[\"password\"],hasFeedback:true,rules:[{required:true,message:\"Please re-enter your password!\"},function(_ref2){var getFieldValue=_ref2.getFieldValue;return{validator:function validator(_,value){if(!value||getFieldValue(\"password\")===value){return Promise.resolve();}return Promise.reject(new Error(\"The two passwords that you entered do not match!\"));}};}],children:/*#__PURE__*/_jsx(Input.Password,{})}),/*#__PURE__*/_jsx(Form.Item,_objectSpread(_objectSpread({name:\"agreement\",valuePropName:\"checked\",rules:[{validator:function validator(_,value){return value?Promise.resolve():Promise.reject(new Error(\"Should accept agreement\"));}}]},tailFormItemLayout),{},{children:/*#__PURE__*/_jsxs(Checkbox,{children:[\"I have read the \",/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"agreement\"})]})})),/*#__PURE__*/_jsxs(Form.Item,_objectSpread(_objectSpread({},tailFormItemLayout),{},{children:[loading?/*#__PURE__*/_jsx(Button,{type:\"primary\",className:\"login-form__button\",htmlType:\"submit\",loading:true,children:\"Create your account\"}):/*#__PURE__*/_jsx(Button,{type:\"primary\",className:\"login-form__button\",htmlType:\"submit\",children:\"Create your account\"}),\"Already have an account?\",\" \",/*#__PURE__*/_jsx(Link,{to:\"/login?redirect=shipping\",children:\"Login\"}),error===\"\"?/*#__PURE__*/_jsx(_Fragment,{}):/*#__PURE__*/_jsxs(\"div\",{className:\"login-form__error-wrap\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"login-form__error-title\",children:[/*#__PURE__*/_jsx(WarningOutlined,{className:\"site-form-item-icon\"}),\"  \",\"There was a problem\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"login-form__error-message\",children:error})]})]}))]}));};export default RegisterCard;","map":{"version":3,"sources":["/Users/chi-shanyu/Desktop/36-PWAShoppingCart/src/components/RegisterCard.js"],"names":["Link","useHistory","React","useDispatch","useSelector","Form","Input","Checkbox","Button","WarningOutlined","register","formItemLayout","labelCol","xs","span","sm","wrapperCol","tailFormItemLayout","offset","RegisterCard","state","userRegister","loading","error","dispatch","useForm","form","history","onFinish","values","console","log","user","push","required","message","whitespace","type","getFieldValue","validator","_","value","Promise","resolve","reject","Error"],"mappings":"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","sourcesContent":["import { Link, useHistory } from \"react-router-dom\";\nimport React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Form, Input, Checkbox, Button } from \"antd\";\nimport { WarningOutlined } from \"@ant-design/icons\";\nimport { register } from \"../actions/userActions\";\n\nconst formItemLayout = {\n  labelCol: {\n    xs: {\n      span: 24,\n    },\n    sm: {\n      span: 8,\n    },\n  },\n  wrapperCol: {\n    xs: {\n      span: 24,\n    },\n    sm: {\n      span: 16,\n    },\n  },\n};\nconst tailFormItemLayout = {\n  wrapperCol: {\n    xs: {\n      span: 24,\n      offset: 0,\n    },\n    sm: {\n      span: 24,\n      offset: 0,\n    },\n  },\n};\n\nconst RegisterCard = () => {\n  const { loading, error } = useSelector((state) => state.userRegister);\n  const dispatch = useDispatch();\n  const [form] = Form.useForm();\n  const history = useHistory();\n\n  const onFinish = async (values) => {\n    console.log(\"Received values of form: \", values);\n    const user = await dispatch(register(values));\n    user && history.push(\"/profile\");\n  };\n\n  return (\n    <Form\n      {...formItemLayout}\n      form={form}\n      name=\"register\"\n      onFinish={onFinish}\n      className=\"register-form\"\n      scrollToFirstError\n    >\n      <Form.Item\n        name=\"username\"\n        label=\"Your Name\"\n        tooltip=\"What do you want others to call you?\"\n        rules={[\n          {\n            required: true,\n            message: \"Please input your name!\",\n            whitespace: true,\n          },\n        ]}\n      >\n        <Input />\n      </Form.Item>\n      <Form.Item\n        name=\"email\"\n        label=\"E-mail\"\n        rules={[\n          {\n            type: \"email\",\n            message: \"The input is not valid E-mail!\",\n          },\n          {\n            required: true,\n            message: \"Please input your E-mail!\",\n          },\n        ]}\n      >\n        <Input />\n      </Form.Item>\n\n      <Form.Item\n        name=\"password\"\n        label=\"Password\"\n        rules={[\n          {\n            required: true,\n            message: \"Please input your password!\",\n          },\n        ]}\n        hasFeedback\n      >\n        <Input.Password />\n      </Form.Item>\n\n      <Form.Item\n        name=\"rePassword\"\n        label=\"Re-enter Password\"\n        dependencies={[\"password\"]}\n        hasFeedback\n        rules={[\n          {\n            required: true,\n            message: \"Please re-enter your password!\",\n          },\n          ({ getFieldValue }) => ({\n            validator(_, value) {\n              if (!value || getFieldValue(\"password\") === value) {\n                return Promise.resolve();\n              }\n\n              return Promise.reject(\n                new Error(\"The two passwords that you entered do not match!\")\n              );\n            },\n          }),\n        ]}\n      >\n        <Input.Password />\n      </Form.Item>\n\n      <Form.Item\n        name=\"agreement\"\n        valuePropName=\"checked\"\n        rules={[\n          {\n            validator: (_, value) =>\n              value\n                ? Promise.resolve()\n                : Promise.reject(new Error(\"Should accept agreement\")),\n          },\n        ]}\n        {...tailFormItemLayout}\n      >\n        <Checkbox>\n          I have read the <Link to={\"/\"}>agreement</Link>\n        </Checkbox>\n      </Form.Item>\n      <Form.Item {...tailFormItemLayout}>\n        {loading ? (\n          <Button\n            type=\"primary\"\n            className=\"login-form__button\"\n            htmlType=\"submit\"\n            loading\n          >\n            Create your account\n          </Button>\n        ) : (\n          <Button\n            type=\"primary\"\n            className=\"login-form__button\"\n            htmlType=\"submit\"\n          >\n            Create your account\n          </Button>\n        )}\n        Already have an account?{\" \"}\n        <Link to={\"/login?redirect=shipping\"}>Login</Link>\n        {error === \"\" ? (\n          <></>\n        ) : (\n          <div className=\"login-form__error-wrap\">\n            <h3 className=\"login-form__error-title\">\n              <WarningOutlined className=\"site-form-item-icon\" />\n              {\"  \"}There was a problem\n            </h3>\n            <p className=\"login-form__error-message\">{error}</p>\n          </div>\n        )}\n      </Form.Item>\n    </Form>\n  );\n};\nexport default RegisterCard;\n"]},"metadata":{},"sourceType":"module"}