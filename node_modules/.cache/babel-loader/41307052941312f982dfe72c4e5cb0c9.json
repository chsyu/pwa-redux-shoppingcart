{"ast":null,"code":"import{useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{useHistory}from\"react-router-dom\";import{Row,Col,Spin}from\"antd\";import{LoadingOutlined}from\"@ant-design/icons\";import GooglePayButton from\"@google-pay/button-react\";import{requestOrderDetail}from\"../actions/orderActions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function OrderCard(_ref){var orderId=_ref.orderId;var _useSelector=useSelector(function(state){return state.orderDetail;}),loading=_useSelector.loading,order=_useSelector.order;var orderItems=order.orderItems;var dispatch=useDispatch();var history=useHistory();var antIcon=/*#__PURE__*/_jsx(LoadingOutlined,{style:{fontSize:80,color:\"#8183ff\"},spin:true});var paymentRequest={apiVersion:2,apiVersionMinor:0,allowedPaymentMethods:[{type:\"CARD\",parameters:{allowedAuthMethods:[\"PAN_ONLY\",\"CRYPTOGRAM_3DS\"],allowedCardNetworks:[\"MASTERCARD\",\"VISA\"]},tokenizationSpecification:{type:\"PAYMENT_GATEWAY\",parameters:{gateway:\"example\"}}}],merchantInfo:{merchantId:\"12345678901234567890\",merchantName:\"Demo Merchant\"},transactionInfo:{totalPriceStatus:\"FINAL\",totalPriceLabel:\"Total\",totalPrice:String(order.totalPrice),currencyCode:\"USD\",countryCode:\"US\"}};useEffect(function(){dispatch(requestOrderDetail(orderId));},[]);// eslint-disable-line react-hooks/exhaustive-deps\nreturn/*#__PURE__*/_jsx(_Fragment,{children:loading?/*#__PURE__*/_jsx(\"div\",{className:\"spinner-wrap\",children:/*#__PURE__*/_jsx(Spin,{indicator:antIcon,className:\"spinner\"})}):/*#__PURE__*/_jsxs(Row,{gutter:[24,24],children:[/*#__PURE__*/_jsxs(Col,{xs:{span:20,offset:2},lg:{span:13,offset:2},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card card-body\",children:[/*#__PURE__*/_jsx(\"h2\",{style:{color:\"white\"},children:\"Shipping\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Name:\"}),\" \",order.shippingAddress.fullName,\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"strong\",{children:\"Address: \"}),\" \",order.shippingAddress.address,\",\",order.shippingAddress.city,\", \",order.shippingAddress.postalCode,\",\",order.shippingAddress.country]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card card-body\",children:[/*#__PURE__*/_jsx(\"h2\",{style:{color:\"white\"},children:\"Payment\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Method:\"}),\" \",order.paymentMethod]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card card-body\",children:[/*#__PURE__*/_jsx(\"h2\",{style:{color:\"white\"},children:\"Order Items\"}),orderItems.length===0?/*#__PURE__*/_jsx(\"div\",{children:\"Cart is empty\"}):orderItems.map(function(item){return/*#__PURE__*/_jsxs(\"li\",{className:\"cart-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cart-image\",children:/*#__PURE__*/_jsx(\"img\",{src:item.image,alt:item.name})}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-item-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cart-name\",children:item.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-qty\",children:[\"Qty: \",item.qty]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-item-end\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"cart-price\",children:[\"$\",item.price*item.qty]})})]},item.id);}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-total-price-wrap\",children:[\"Total\",/*#__PURE__*/_jsxs(\"div\",{className:\"cart-total-price\",children:[\"$\",order.totalPrice]})]})]})]}),/*#__PURE__*/_jsx(Col,{xs:{span:20,offset:2},lg:{span:7,offset:0},children:/*#__PURE__*/_jsxs(\"div\",{className:\"card card-body\",children:[/*#__PURE__*/_jsx(\"h2\",{style:{color:\"white\"},children:\"Order Summary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Items\"}),/*#__PURE__*/_jsxs(\"div\",{children:[\"$\",order.itemsPrice]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Shipping\"}),/*#__PURE__*/_jsxs(\"div\",{children:[\"$\",order.shippingPrice]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Tax\"}),/*#__PURE__*/_jsxs(\"div\",{children:[\"$\",order.taxPrice]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\" Order Total\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"$\",order.totalPrice]})})]}),/*#__PURE__*/_jsx(GooglePayButton,{environment:\"TEST\",buttonColor:\"black\",paymentRequest:paymentRequest,onLoadPaymentData:function onLoadPaymentData(paymentRequest){console.log(\"load payment data\",paymentRequest);history.push(\"/\");}})]})})]})});}","map":{"version":3,"sources":["/Users/chi-shanyu/Desktop/36-PWAShoppingCart/src/components/OrderCard.js"],"names":["useEffect","useDispatch","useSelector","useHistory","Row","Col","Spin","LoadingOutlined","GooglePayButton","requestOrderDetail","OrderCard","orderId","state","orderDetail","loading","order","orderItems","dispatch","history","antIcon","fontSize","color","paymentRequest","apiVersion","apiVersionMinor","allowedPaymentMethods","type","parameters","allowedAuthMethods","allowedCardNetworks","tokenizationSpecification","gateway","merchantInfo","merchantId","merchantName","transactionInfo","totalPriceStatus","totalPriceLabel","totalPrice","String","currencyCode","countryCode","span","offset","shippingAddress","fullName","address","city","postalCode","country","paymentMethod","length","map","item","image","name","qty","price","id","itemsPrice","shippingPrice","taxPrice","console","log","push"],"mappings":"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","sourcesContent":["import { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport { Row, Col, Spin } from \"antd\";\nimport { LoadingOutlined } from \"@ant-design/icons\";\nimport GooglePayButton from \"@google-pay/button-react\";\nimport { requestOrderDetail } from \"../actions/orderActions\";\n\nexport default function OrderCard({ orderId }) {\n  const { loading, order } = useSelector((state) => state.orderDetail);\n\n  const { orderItems } = order;\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const antIcon = (\n    <LoadingOutlined style={{ fontSize: 80, color: \"#8183ff\" }} spin />\n  );\n\n  const paymentRequest = {\n    apiVersion: 2,\n    apiVersionMinor: 0,\n    allowedPaymentMethods: [\n      {\n        type: \"CARD\",\n        parameters: {\n          allowedAuthMethods: [\"PAN_ONLY\", \"CRYPTOGRAM_3DS\"],\n          allowedCardNetworks: [\"MASTERCARD\", \"VISA\"],\n        },\n        tokenizationSpecification: {\n          type: \"PAYMENT_GATEWAY\",\n          parameters: {\n            gateway: \"example\",\n          },\n        },\n      },\n    ],\n    merchantInfo: {\n      merchantId: \"12345678901234567890\",\n      merchantName: \"Demo Merchant\",\n    },\n    transactionInfo: {\n      totalPriceStatus: \"FINAL\",\n      totalPriceLabel: \"Total\",\n      totalPrice: String(order.totalPrice),\n      currencyCode: \"USD\",\n      countryCode: \"US\",\n    },\n  };\n\n  useEffect(() => {\n    dispatch(requestOrderDetail(orderId));\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <>\n      {loading ? (\n        <div className=\"spinner-wrap\">\n          <Spin indicator={antIcon} className=\"spinner\" />\n        </div>\n      ) : (\n        <Row gutter={[24, 24]}>\n          <Col xs={{ span: 20, offset: 2 }} lg={{ span: 13, offset: 2 }}>\n            <div className=\"card card-body\">\n              <h2 style={{ color: \"white\" }}>Shipping</h2>\n              <p>\n                <strong>Name:</strong> {order.shippingAddress.fullName} <br />\n                <strong>Address: </strong> {order.shippingAddress.address},\n                {order.shippingAddress.city}, {order.shippingAddress.postalCode}\n                ,{order.shippingAddress.country}\n              </p>\n            </div>\n            <div className=\"card card-body\">\n              <h2 style={{ color: \"white\" }}>Payment</h2>\n              <p>\n                <strong>Method:</strong> {order.paymentMethod}\n              </p>\n            </div>\n            <div className=\"card card-body\">\n              <h2 style={{ color: \"white\" }}>Order Items</h2>\n              {orderItems.length === 0 ? (\n                <div>Cart is empty</div>\n              ) : (\n                orderItems.map((item) => (\n                  <li key={item.id} className=\"cart-item\">\n                    <div className=\"cart-image\">\n                      <img src={item.image} alt={item.name} />\n                    </div>\n                    <div className=\"cart-item-content\">\n                      <div className=\"cart-name\">{item.name}</div>\n                      <div className=\"product-qty\">Qty: {item.qty}</div>\n                    </div>\n                    <div className=\"cart-item-end\">\n                      <div className=\"cart-price\">${item.price * item.qty}</div>\n                    </div>\n                  </li>\n                ))\n              )}\n              <div className=\"cart-total-price-wrap\">\n                Total\n                <div className=\"cart-total-price\">${order.totalPrice}</div>\n              </div>\n            </div>\n          </Col>\n          <Col xs={{ span: 20, offset: 2 }} lg={{ span: 7, offset: 0 }}>\n            <div className=\"card card-body\">\n              <h2 style={{ color: \"white\" }}>Order Summary</h2>\n              <div className=\"row\">\n                <div>Items</div>\n                <div>${order.itemsPrice}</div>\n              </div>\n              <div className=\"row\">\n                <div>Shipping</div>\n                <div>${order.shippingPrice}</div>\n              </div>\n              <div className=\"row\">\n                <div>Tax</div>\n                <div>${order.taxPrice}</div>\n              </div>\n              <div className=\"row\">\n                <div>\n                  <strong> Order Total</strong>\n                </div>\n                <div>\n                  <strong>${order.totalPrice}</strong>\n                </div>\n              </div>\n              <GooglePayButton\n                environment=\"TEST\"\n                buttonColor=\"black\"\n                paymentRequest={paymentRequest}\n                onLoadPaymentData={(paymentRequest) => {\n                  console.log(\"load payment data\", paymentRequest);\n                  history.push(\"/\");\n                }}\n              />\n            </div>\n          </Col>\n        </Row>\n      )}\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}