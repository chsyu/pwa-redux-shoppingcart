{"ast":null,"code":"import _regeneratorRuntime from\"/Users/chi-shanyu/Desktop/36-PWAShoppingCart/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/chi-shanyu/Desktop/36-PWAShoppingCart/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{SET_PAGE_TITLE,SET_PAGE_CONTENT,SET_NAVBAR_ACTIVEITEM,SET_PRODUCT_DETAIL,BEGIN_PRODUCTS_REQUEST,SUCCESS_PRODUCTS_REQUEST,FAIL_PRODUCTS_REQUEST}from\"../utils/constants\";import{getProducts,getProductById}from\"../api\";export var setProductDetail=function setProductDetail(productId,qty){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var product;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch({type:BEGIN_PRODUCTS_REQUEST});_context.prev=1;_context.next=4;return getProductById(productId);case 4:product=_context.sent;if(qty===0)dispatch({type:SET_PRODUCT_DETAIL,payload:{product:product}});else dispatch({type:SET_PRODUCT_DETAIL,payload:{product:product,qty:qty}});dispatch({type:SUCCESS_PRODUCTS_REQUEST});_context.next=13;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);console.log(_context.t0);dispatch({type:FAIL_PRODUCTS_REQUEST,payload:_context.t0});case 13:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var setPage=function setPage(url,title){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var products;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:products=[];dispatch({type:BEGIN_PRODUCTS_REQUEST});dispatch({type:SET_PAGE_TITLE,payload:title});_context2.prev=3;_context2.next=6;return getProducts(url);case 6:products=_context2.sent;dispatch({type:SET_PAGE_CONTENT,payload:{title:title,products:products}});dispatch({type:SET_NAVBAR_ACTIVEITEM,payload:url});dispatch({type:SUCCESS_PRODUCTS_REQUEST});_context2.next=16;break;case 12:_context2.prev=12;_context2.t0=_context2[\"catch\"](3);console.log(_context2.t0);dispatch({type:FAIL_PRODUCTS_REQUEST,payload:_context2.t0});case 16:case\"end\":return _context2.stop();}}},_callee2,null,[[3,12]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};","map":{"version":3,"sources":["/Users/chi-shanyu/Desktop/36-PWAShoppingCart/src/actions/productActions.js"],"names":["SET_PAGE_TITLE","SET_PAGE_CONTENT","SET_NAVBAR_ACTIVEITEM","SET_PRODUCT_DETAIL","BEGIN_PRODUCTS_REQUEST","SUCCESS_PRODUCTS_REQUEST","FAIL_PRODUCTS_REQUEST","getProducts","getProductById","setProductDetail","productId","qty","dispatch","type","product","payload","console","log","setPage","url","title","products"],"mappings":"mUAAA,OACEA,cADF,CAEEC,gBAFF,CAGEC,qBAHF,CAIEC,kBAJF,CAKEC,sBALF,CAMEC,wBANF,CAOEC,qBAPF,KAQO,oBARP,CASA,OACEC,WADF,CAEEC,cAFF,KAGO,QAHP,CAMA,MAAO,IAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACC,SAAD,CAAYC,GAAZ,iGAAoB,iBAAOC,QAAP,8HAClDA,QAAQ,CAAC,CAAEC,IAAI,CAAET,sBAAR,CAAD,CAAR,CADkD,sCAG1BI,CAAAA,cAAc,CAACE,SAAD,CAHY,QAG1CI,OAH0C,eAIhD,GAAIH,GAAG,GAAK,CAAZ,CACEC,QAAQ,CAAC,CACPC,IAAI,CAAEV,kBADC,CAEPY,OAAO,CAAE,CACPD,OAAO,CAAPA,OADO,CAFF,CAAD,CAAR,CADF,IAQEF,CAAAA,QAAQ,CAAC,CACPC,IAAI,CAAEV,kBADC,CAEPY,OAAO,CAAE,CACPD,OAAO,CAAPA,OADO,CAEPH,GAAG,CAAHA,GAFO,CAFF,CAAD,CAAR,CAOFC,QAAQ,CAAC,CAAEC,IAAI,CAAER,wBAAR,CAAD,CAAR,CAnBgD,+EAqBhDW,OAAO,CAACC,GAAR,cACAL,QAAQ,CAAC,CAAEC,IAAI,CAAEP,qBAAR,CAA+BS,OAAO,YAAtC,CAAD,CAAR,CAtBgD,oEAApB,gEAAzB,CA0BP,MAAO,IAAMG,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,GAAD,CAAMC,KAAN,kGAAgB,kBAAOR,QAAP,mIACjCS,QADiC,CACtB,EADsB,CAErCT,QAAQ,CAAC,CAAEC,IAAI,CAAET,sBAAR,CAAD,CAAR,CACAQ,QAAQ,CAAC,CACPC,IAAI,CAAEb,cADC,CAEPe,OAAO,CAAEK,KAFF,CAAD,CAAR,CAHqC,wCAQlBb,CAAAA,WAAW,CAACY,GAAD,CARO,QAQnCE,QARmC,gBASnCT,QAAQ,CAAC,CACPC,IAAI,CAAEZ,gBADC,CAEPc,OAAO,CAAE,CAAEK,KAAK,CAALA,KAAF,CAASC,QAAQ,CAARA,QAAT,CAFF,CAAD,CAAR,CAIAT,QAAQ,CAAC,CACPC,IAAI,CAAEX,qBADC,CAEPa,OAAO,CAAEI,GAFF,CAAD,CAAR,CAIAP,QAAQ,CAAC,CAAEC,IAAI,CAAER,wBAAR,CAAD,CAAR,CAjBmC,qFAmBnCW,OAAO,CAACC,GAAR,eACAL,QAAQ,CAAC,CAAEC,IAAI,CAAEP,qBAAR,CAA+BS,OAAO,aAAtC,CAAD,CAAR,CApBmC,uEAAhB,kEAAhB","sourcesContent":["import {\n  SET_PAGE_TITLE,\n  SET_PAGE_CONTENT,\n  SET_NAVBAR_ACTIVEITEM,\n  SET_PRODUCT_DETAIL,\n  BEGIN_PRODUCTS_REQUEST,\n  SUCCESS_PRODUCTS_REQUEST,\n  FAIL_PRODUCTS_REQUEST,\n} from \"../utils/constants\";\nimport {\n  getProducts,\n  getProductById,\n} from \"../api\";\n\n\nexport const setProductDetail = (productId, qty) => async (dispatch) => {\n  dispatch({ type: BEGIN_PRODUCTS_REQUEST });\n  try {\n    const product = await getProductById(productId);\n    if (qty === 0)\n      dispatch({\n        type: SET_PRODUCT_DETAIL,\n        payload: {\n          product,\n        },\n      });\n    else\n      dispatch({\n        type: SET_PRODUCT_DETAIL,\n        payload: {\n          product,\n          qty,\n        },\n      });\n    dispatch({ type: SUCCESS_PRODUCTS_REQUEST });\n  } catch (error) {\n    console.log(error);\n    dispatch({ type: FAIL_PRODUCTS_REQUEST, payload: error });\n  }\n};\n\nexport const setPage = (url, title) => async (dispatch) => {\n  let products = [];\n  dispatch({ type: BEGIN_PRODUCTS_REQUEST });\n  dispatch({\n    type: SET_PAGE_TITLE,\n    payload: title,\n  });\n  try {\n    products = await getProducts(url);\n    dispatch({\n      type: SET_PAGE_CONTENT,\n      payload: { title, products },\n    });\n    dispatch({\n      type: SET_NAVBAR_ACTIVEITEM,\n      payload: url,\n    });\n    dispatch({ type: SUCCESS_PRODUCTS_REQUEST });\n  } catch (error) {\n    console.log(error);\n    dispatch({ type: FAIL_PRODUCTS_REQUEST, payload: error });\n  }\n};\n"]},"metadata":{},"sourceType":"module"}